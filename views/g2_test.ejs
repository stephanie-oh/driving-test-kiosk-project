<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('layouts/header'); -%>
</head>
<body>
    <div class="header">
        <h1>G2 Test</h1>
    </div>
    <%- include('layouts/dashnav'); -%>
    <main class="main">
        <h2>G2 Test</h2>
        <p>Enter your details below to register</p>
        <div class="form_con">
            <form action="" method="get">
                <fieldset>
                    <legend>Personal Information</legend>
                    <label for="name">First Name</label>
                    <input type="text" id="fname"><br><br>
                    <label for="name">Last Name</label>
                    <input type="text" id="lname"><br><br>
                    <label for="age">Age</label>
                    <input type="number" id="age"><br><br>
                    <label for="date">Date of Birth</label>
                    <input type="date" id="dob"><br><br>
                    <label for="lnumber">License Number</label>
                    <input type="text" id="lnum">
                </fieldset>
                <fieldset>
                    <legend>Car Information</legend>
                    <label for="name">Make</label>
                    <input type="text" id="cname"><br><br>
                    <label for="name">Model</label>
                    <input type="text" id="mname"><br><br>
                    <label for="age">Year</label>
                    <input type="number" id="year"><br><br>
                    <label for="pnumber">Plate Number</label>
                    <input type="text" id="pnum">
                </fieldset>
                <input type="button" value="Submit" onclick="submitForm()"> 
            </form> 
        </div>
    </main>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script>
        function submitForm() {
            // Collect data from the form
            var formData = {
                fname: $("#fname").val(),
                lname: $("#lname").val(),
                lnum: $("#lnum").val(),
                age: $("#age").val(),
                cname: $("#cname").val(),
                mname: $("#mname").val(),
                year: $("#year").val(),
                pnum: $("#pnum").val()
            };

            // Send data to the server using AJAX
            $.ajax({
                type: "POST",
                url: "/g2test", // Replace with your server endpoint
                contentType: "application/json",
                data: JSON.stringify(formData),
                success: function (response) {
                    console.log("Data sent successfully:", response);
                    // Display a pop-up or handle success, if needed
                    alert('Details sent');
                },
                error: function (error) {
                    console.error("Error sending data:", error);
                    // Handle error, if needed
                }
            });
        }
    </script>
</body>
</html>